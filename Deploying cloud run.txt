Deploying cloud run

1. Set variables

$PROJECT="recommender-api-476122"
$REGION="us-central1"
$REPO="reco"
$IMAGE="us-central1-docker.pkg.dev/$PROJECT/$REPO/reco-api:latest"

2. Remote build docker

gcloud builds submit --config cloudbuild-docker.yaml --substitutions=_IMAGE=$IMAGE .


3. Deploy to Cloud Run

gcloud run deploy reco-api `
  --image $IMAGE `
  --region $REGION `
  --allow-unauthenticated `
  --set-env-vars MODEL_REGISTRY=gs://reco-model-registry,INITIAL_MODEL_VERSION=v0.2




